<!-- <div class="column is-content has-custom-scrollable-container"> -->
<div class="columns mb-5">
  <div class="column m-0 p-0">
    <p class="title is-family-secondary">
      Blocked users
    </p>
  </div>
  <div class="column m-0 p-0" style="height: 36px;">
    <form>
      <div class="field has-addons is-pulled-right">
        <div class="control is-expanded has-icons-left">
          <span class="icon is-left">
            <span class="iconify is-size-5" data-icon="ic:outline-email"></span>
          </span>
          <input class="input" type="text" [formControl]="emailInput" placeholder="User email address">
        </div>
        <div class="control" >
          <button class="button is-danger is-outliend" (click)="blockUser(emailInput.value)" 
                  type="submit" [disabled]="emailInput.invalid">
            Block
            <span class="iconify is-size-4" data-icon="fluent:prohibition-20-regular"></span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
<div class="is-custom-scrollable-container">
  <!--(matSortChange)="announceSortChange($event)" -->
  <table mat-table [dataSource]="dataSource" matSort  (matSortChange)="announceSortChange($event)"
        class="table is-fullwidth is-hoverable is-custom-table">
    <ng-container matColumnDef="fullName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">
        Name
      </th>
      <td mat-cell *matCellDef="let element"> {{element.fullName}} </td>
    </ng-container>

    <ng-container matColumnDef="role">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by date">
        Role
      </th>
      <td mat-cell *matCellDef="let element"> {{ roleToHumanReadable(element.role) }} </td>
    </ng-container>

    <ng-container matColumnDef="note">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by note">
        Note
      </th>
      <td mat-cell *matCellDef="let element; let i = index"> 
        <span *ngIf="!isEditNoteActive[i]">{{element.note}} </span>
        <input autofocus class="input" type="text" *ngIf="isEditNoteActive[i]" (keydown.enter)="save($event, i)" value="{{element.note}}"/>
      </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element; let i = index" [class]="'has-text-right'">
        <button class="button is-outlined is-small" (click)="editNote(i)">
          <span class="icon mr-2">
            <span class="iconify is-size-3" data-icon="fluent:edit-16-filled"></span>
          </span>
          Edit note
        </button>
        <button class="button ml-2 is-success is-outlined is-small"  (click)="unblockUser(element.userId, element.fullName)">
          <span class="icon mr-2">
            <span class="iconify is-size-3" data-icon="fluent:prohibited-20-filled"></span>
          </span>
          Unblock
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns; let i = index"></tr>
  </table>

</div>